c-box
  .box.bh
    .cover
      img-loader(src="{props.img}" width="160" height="215" alt="x")
    button
      div

  script.
    import imgLoader from './imgloader.pug'

    export default {
      components: {imgLoader},
      onMounted() {
        this.root.style.setProperty('--img-url', `url('${this.props.img}')`)
        this.root.style.setProperty('--btn-color', this.props.btnColor)
        this.root.style.setProperty('--btn-text', `'${this.props.btnText}'`)
      }
    }

  style(type="stylus").
    button
      cursor pointer
      outline 0
      width 180px
      height 48px
      border-radius 8px
      background-color #2c3138
      margin-top 40px
      overflow hidden
      -webkit-transform scale(.7)
      transform scale(.7)
      &::after
        content ""
        position relative
        top -40px
        display block
        width 48px
        height 107%
        background-color #000
        margin-top -1px
        margin-left -7px
        border-radius 6px 0 0 6px
        background-image url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxN3B4IiB2aWV3Qm94PSIwIDAgMTQgMTciIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjEgKDU3NTAxKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJEZXNrdG9wLUhELUNvcHktMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYwOS4wMDAwMDAsIC0xMDA4LjAwMDAwMCkiIGZpbGw9IiNGOUZDRkYiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0xMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTQ3LjAwMDAwMCwgNDk5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTYtQ29weSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDYuMDAwMDAwLCA0OTUuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljX2ZpbGVfZG93bmxvYWRfYmxhY2tfMjRweC0oMSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2LjAwMDAwMCwgOC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0LDEyIEwxMCwxMiBMMTAsNiBMNCw2IEw0LDEyIEwwLDEyIEw3LDE5IEwxNCwxMiBaIE0wLDIxIEwwLDIzIEwxNCwyMyBMMTQsMjEgTDAsMjEgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=')
        background-repeat no-repeat
        background-position center
      &::before
        content ""
        display block
        width 48px
        height 46px
        margin-left -7px
        margin-top -1px
        -webkit-transition all 200ms cubic-bezier(0.25, 0.75, 0.5, 1.25)
        transition all 200ms cubic-bezier(0.25, 0.75, 0.5, 1.25)

    img
      width 160px
    .box
      display -webkit-box
      display -ms-flexbox
      display flex
      -webkit-box-align center
      -ms-flex-align center
      align-items center
      -webkit-box-orient vertical
      -webkit-box-direction normal
      -ms-flex-direction column
      flex-direction column
      -webkit-transition all .3s ease-out
      transition all .3s ease-out
      will-change transform
      &:hover
        .cover
          -webkit-transform translateY(-14px) scale(1.04)
          transform translateY(-14px) scale(1.04)
          &::after
            opacity 1
            -webkit-transform scale(1)
            transform scale(1)
      .cover
        &::after
          content ""
          z-index -99
          position absolute
          top 20px
          left -20px
          display block
          width 160px
          height 214px
          opacity 0
          background-position center
          background-repeat no-repeat
          background-size 160px 214px
          -webkit-filter blur(24px)
          filter blur(24px)
          -webkit-transition all 260ms ease-in-out
          transition all 260ms ease-in-out
          will-change transform
          -webkit-transform scale(.6)
          transform scale(.6)

    .bh
      .cover
        &::after
          background-image var(--img-url)
      button
        border 1px solid var(--btn-color)
        color #fff
        font-size 22px
        text-align right
        padding-right 20px
        line-height 40px
        &::after
          content ""
          background-color var(--btn-color)
          top -85px
        div
          &::before
            content var(--btn-text)
            position relative
            top -44px
            left -4px
            color var(--btn-color)
            font-size 21px
            font-weight 300
      &:hover
        button
          div
            &::before
              color #fff
          &::before
            width 120%
            opacity .8
            background-color var(--btn-color)

    .cover
      -webkit-transition all 400ms ease-in-out
      transition all 400ms ease-in-out
      will-change transform
      img
        -webkit-transition all 260ms ease-in-out
        transition all 260ms ease-in-out
